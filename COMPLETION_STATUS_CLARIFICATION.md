# 完成状态逻辑说明

## 概念澄清

### 完成状态 (isCompleted)
- **定义**：基于是否达到目标时间
- **判断逻辑**：`isCompleted = state.timerState.isDefaultTimeReached`
- **含义**：
  - `true`：达到了预设的目标时长（如25分钟专注目标）
  - `false`：未达到预设的目标时长

### 专注结果 (isFailed) 
- **定义**：基于是否达到最小专注时间（专注失败时间阈值）
- **判断逻辑**：`isFailed = elapsedTime <= focusFailureTime`（仅针对专注状态）
- **含义**：
  - `true`：专注时间太短，被认为是失败的专注
  - `false`：专注时间足够，是成功的专注

## 实际场景示例

### 场景1：专注1小时40分钟，目标25分钟
- **完成状态**：`isCompleted = true`（达到了25分钟目标）
- **专注结果**：`isFailed = false`（远超过2分钟失败阈值）
- **记录显示**：已完成 + 成功

### 场景2：专注1分钟就取消，目标25分钟  
- **完成状态**：`isCompleted = false`（未达到25分钟目标）
- **专注结果**：`isFailed = true`（少于2分钟失败阈值）
- **记录显示**：未完成 + 失败

### 场景3：专注5分钟，目标25分钟
- **完成状态**：`isCompleted = false`（未达到25分钟目标）
- **专注结果**：`isFailed = false`（超过2分钟失败阈值）
- **记录显示**：未完成 + 成功

## UI显示逻辑

在历史记录中：
- **完成状态**显示为"已完成"或"未完成"
- **专注结果**显示为"成功"或"失败"（仅专注类型记录）

这样可以清楚地区分：
1. 是否达到了预期的目标时长
2. 专注是否有效（不是过早放弃）