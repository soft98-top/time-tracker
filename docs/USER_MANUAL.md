# 灵活番茄时钟用户手册

## 目录

1. [快速入门](#快速入门)
2. [界面介绍](#界面介绍)
3. [功能详解](#功能详解)
4. [设置配置](#设置配置)
5. [统计分析](#统计分析)
6. [常见问题](#常见问题)
7. [高级功能](#高级功能)

## 快速入门

### 第一次使用

1. **打开应用**: 在浏览器中访问灵活番茄时钟
2. **允许通知**: 点击允许桌面通知（可选）
3. **开始专注**: 点击"开始专注"按钮
4. **专注工作**: 专注于你的任务
5. **灵活切换**: 时间到达后选择继续或切换状态

### 基本工作流程

```
无状态 → 专注 → 反思 → 休息 → 专注 → ...
```

## 界面介绍

### 主界面

- **计时器显示区**: 显示当前状态和已用时间
- **控制按钮区**: 提供状态切换和操作按钮
- **状态指示器**: 显示当前所处的状态
- **导航栏**: 切换到统计和设置页面

### 计时器显示

- **大时钟**: 显示当前状态已经过的时间
- **状态标题**: 显示当前状态名称（专注/反思/休息）
- **进度提示**: 显示是否已达到默认时长
- **状态描述**: 提供当前状态的操作提示

### 控制按钮

- **开始专注**: 从无状态进入专注状态
- **开始反思**: 从专注状态进入反思状态
- **开始休息**: 从专注或反思状态进入休息状态
- **取消**: 取消当前状态，返回无状态

## 功能详解

### 专注功能

**开始专注**
1. 点击"开始专注"按钮
2. 计时器开始计时
3. 专注于你的工作任务

**专注规则**
- 前2分钟（默认）内只能取消，取消会记录为专注失败
- 超过2分钟后可以切换到反思或休息状态
- 达到25分钟（默认）时会收到提醒，但可以继续专注

**专注提示**
- 🔴 专注失败时间内：只显示"取消"按钮
- 🟡 达到默认时长前：显示"反思"和"休息"按钮
- 🟢 达到默认时长后：按钮高亮提示，建议切换状态

### 反思功能

**进入反思**
- 只能从专注状态切换而来
- 用于总结专注期间的工作成果
- 思考遇到的问题和解决方案

**反思规则**
- 达到3分钟（默认）时会收到提醒
- 可以切换到休息状态或取消回到无状态
- 反思时间会被记录到统计中

### 休息功能

**进入休息**
- 可以从专注或反思状态切换而来
- 用于放松恢复，准备下一轮专注

**休息规则**
- 达到5分钟（默认）时会收到提醒
- 可以切换到专注状态或取消回到无状态
- 休息时间会被记录到统计中

### 提醒系统

**桌面通知**
- 在达到默认时长时发送桌面通知
- 需要浏览器通知权限
- 可在设置中开启/关闭

**声音提醒**
- 播放系统提示音
- 可在设置中开启/关闭
- 适合在安静环境中使用

## 设置配置

### 时长设置

**专注时长**
- 默认：25分钟
- 建议范围：15-45分钟
- 根据个人专注能力调整

**休息时长**
- 默认：5分钟
- 建议范围：3-10分钟
- 短休息有助于保持专注力

**反思时长**
- 默认：3分钟
- 建议范围：2-5分钟
- 快速总结，不宜过长

**专注失败时间**
- 默认：2分钟
- 建议范围：1-5分钟
- 避免频繁开关计时器

### 提醒设置

**桌面通知**
- 开启后在时间到达时发送通知
- 需要浏览器权限
- 适合后台运行时使用

**声音提醒**
- 开启后播放提示音
- 使用系统默认声音
- 可与桌面通知同时使用

### 数据管理

**导出数据**
- 将所有历史记录导出为JSON文件
- 包含配置设置和会话记录
- 建议定期备份

**导入数据**
- 从JSON文件恢复数据
- 会覆盖当前所有数据
- 导入前请确认文件格式正确

**清除数据**
- 删除所有历史记录和配置
- 操作不可逆，请谨慎使用
- 建议清除前先导出备份

## 统计分析

### 时间统计

**今日统计**
- 今天的专注、反思、休息总时长
- 专注成功次数和失败次数
- 平均每次专注时长

**本周统计**
- 本周每天的时间分布
- 一周总计时长
- 工作日vs周末对比

**本月统计**
- 本月每天的时间趋势
- 月度总计和日均时长
- 专注效率变化趋势

### 历史记录

**记录列表**
- 按时间倒序显示所有会话
- 显示状态类型、开始时间、持续时长
- 区分成功专注和失败专注

**筛选功能**
- 按状态类型筛选（专注/反思/休息）
- 按日期范围筛选
- 按成功/失败状态筛选

**记录详情**
- 点击记录查看详细信息
- 包含精确的开始和结束时间
- 显示是否达到目标时长

## 常见问题

### 使用问题

**Q: 计时器不准确怎么办？**
A: 计时器基于系统时间，如果发现不准确，请检查系统时间设置。应用会自动检测时间跳跃并进行调整。

**Q: 页面刷新后状态丢失？**
A: 应用会自动保存状态，刷新后会恢复到之前的状态。如果没有恢复，可能是浏览器存储被清除。

**Q: 可以同时在多个标签页使用吗？**
A: 不建议同时在多个标签页使用，可能会导致状态冲突。建议只在一个标签页中使用。

### 通知问题

**Q: 没有收到桌面通知？**
A: 请检查：
1. 浏览器通知权限是否允许
2. 系统通知设置是否开启
3. 浏览器是否在后台运行

**Q: 声音提醒不工作？**
A: 请检查：
1. 系统音量是否开启
2. 浏览器是否允许播放声音
3. 设置中声音提醒是否开启

### 数据问题

**Q: 数据会同步到云端吗？**
A: 不会，所有数据都保存在本地浏览器中，不会上传到服务器。

**Q: 更换浏览器后数据丢失？**
A: 数据存储在特定浏览器中，更换浏览器需要重新导入数据。建议定期导出备份。

**Q: 清除浏览器数据会影响应用吗？**
A: 会的，清除浏览器存储会删除所有应用数据。清除前请先导出备份。

## 高级功能

### PWA 安装

**桌面安装**
1. 在浏览器地址栏点击安装图标
2. 确认安装到桌面
3. 可以像本地应用一样使用

**手机安装**
1. 在浏览器菜单中选择"添加到主屏幕"
2. 确认添加
3. 从主屏幕直接启动

### 离线使用

- 安装PWA后可以离线使用
- 所有功能在离线状态下正常工作
- 数据保存在本地，不需要网络连接

### 键盘快捷键

- `Space`: 开始/暂停计时器
- `Esc`: 取消当前状态
- `R`: 进入反思状态
- `B`: 进入休息状态
- `S`: 打开设置页面

### 数据格式

**导出数据格式**
```json
{
  "config": {
    "focusDuration": 25,
    "restDuration": 5,
    "reflectionDuration": 3,
    "focusFailureTime": 2,
    "enableSound": true,
    "enableNotification": true
  },
  "sessions": [
    {
      "id": "session-id",
      "type": "focus",
      "startTime": 1640995200000,
      "endTime": 1640996700000,
      "duration": 1500000,
      "isCompleted": true,
      "isFailed": false
    }
  ]
}
```

### 浏览器兼容性

**推荐浏览器**
- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

**功能支持**
- 桌面通知：需要现代浏览器支持
- PWA安装：需要支持Service Worker
- 声音提醒：需要Web Audio API支持

---

**需要更多帮助？** 请查看应用内的帮助页面或联系技术支持。